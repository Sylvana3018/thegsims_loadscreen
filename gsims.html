<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>gSims — уютный город в Garry’s Mod</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#14b8ff" />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;500;700;800&display=swap" rel="stylesheet" />
  <style>
    :root{
      --bg-1:#0cc7ff; --bg-2:#1565d8;
      --text:#fff; --muted:rgba(255,255,255,.75);
      --glass: rgba(255,255,255,.12); --glass-b: rgba(255,255,255,.18);
      --green-1:#42ff6b; --green-2:#00c853;
      --shadow-heavy: 0 30px 80px rgba(0,0,0,.35);
      --shadow-soft: 0 10px 30px rgba(0,0,0,.25);
      --radius: 16px;
      --container: min(1160px, calc(100% - 48px));
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--text);
      font-family:'Manrope',system-ui,Segoe UI,Roboto,Arial,sans-serif;
      background: radial-gradient(1200px 900px at 50% 40%, var(--bg-1) 0%, var(--bg-2) 70%, #0b2b7c 100%);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;
    }
    a{color:inherit; text-decoration:none}
    .container{width:var(--container); margin-inline:auto}

    /* Фон: loadscreen.jpg под блюром */
    #bg-photo{position:fixed; inset:0; z-index:0; pointer-events:none; opacity:.12;
      background:url('loadscreen.jpg') center/cover no-repeat fixed; filter: blur(12px) saturate(1.06); transform:scale(1.03);}
    #bg-halo{position:fixed; inset:0; z-index:1; pointer-events:none; display:grid; place-items:center; opacity:.35;}
    #bg-halo svg{width:min(130vmin,1300px); height:auto}
    #bg-halo .c1{stroke:rgba(255,255,255,.14); stroke-width:2; filter:url(#blur20)}
    #bg-halo .c2{stroke:rgba(255,255,255,.10); stroke-width:2; filter:url(#blur30)}
    #bg-halo .c3{stroke:rgba(255,255,255,.07); stroke-width:2; filter:url(#blur40)}
    #sparkles{position:fixed; inset:0; z-index:2; pointer-events:none; opacity:.6}

    /* Навбар с видимым логотипом */
    .nav{ position:sticky; top:0; z-index:10; backdrop-filter: blur(10px);
      background: linear-gradient(to bottom, rgba(0,0,0,.18), rgba(0,0,0,0));
      border-bottom: 1px solid rgba(255,255,255,.12);
    }
    .nav .bar{display:flex; align-items:center; justify-content:space-between; height:64px}
    .brand{display:flex; align-items:center; gap:12px; font-weight:800; letter-spacing:.02em}
    .brand .g{color:#9fffb3}
    /* Перекраска чёрного logo.png в белый: надёжный фильтр */
    .brand-logo-img{width:26px; height:auto; filter: brightness(0) invert(1) drop-shadow(0 0 10px rgba(255,255,255,.35));}

    .nav-links{display:flex; gap:18px; align-items:center}
    .nav a{opacity:.9; font-weight:500}
    .nav a:hover{opacity:1}
    .btn{display:inline-flex; align-items:center; gap:10px; padding:12px 18px; border-radius:999px; font-weight:700; letter-spacing:.02em;
      background: linear-gradient(90deg, #5fe1ff, #14b8ff); color:#05334f; box-shadow: var(--shadow-soft); border:0; cursor:pointer}
    .btn.secondary{background: rgba(255,255,255,.12); color:#fff; border:1px solid rgba(255,255,255,.2)}
    .btn:active{transform: translateY(1px)}
    .burger{display:none; width:40px; height:40px; border-radius:12px; border:1px solid var(--glass-b); background:var(--glass); backdrop-filter: blur(8px)}
    @media (max-width:860px){
      .nav-links{position:fixed; right:18px; top:74px; background:var(--glass); border:1px solid var(--glass-b); backdrop-filter: blur(12px);
        padding:14px; border-radius:14px; display:none; flex-direction:column; gap:10px}
      .burger{display:grid; place-items:center}
      .nav-links.show{display:flex}
    }

    /* HERO */
    .hero{position:relative; z-index:3; padding:60px 0 40px}
    .hero-grid{display:grid; grid-template-columns: 1.2fr 1fr; gap:32px; align-items:center}
    .hero h1{font-size:min(8.5vw,64px); line-height:1.06; margin:0 0 12px; font-weight:800; text-shadow: 0 6px 24px rgba(0,0,0,.35)}
    .hero p{margin:0 0 22px; font-size:18px; color:var(--muted)}
    .hero .actions{display:flex; gap:12px; flex-wrap:wrap}
    .pill{padding:6px 10px; border-radius:999px; background:rgba(255,255,255,.14); border:1px solid rgba(255,255,255,.18); font-size:12px}

    .hero-visual{display:grid; place-items:center}
    .plumbob-wrap{
      position:relative; width:min(56vmin, 420px); aspect-ratio:1/1;
      filter: drop-shadow(0 30px 50px rgba(0,0,0,.45));
    }

    /* Орбиты (не лоадер) */
    .orbits{position:absolute; inset:0; display:grid; place-items:center}
    .orbit{position:absolute; border-radius:50%; border:2px solid rgba(255,255,255,.12);}
    .orbit::before{
      content:""; position:absolute; left:50%; top:-6px; transform:translateX(-50%);
      width:12px; height:12px; border-radius:50%;
      background: radial-gradient(#fff, rgba(255,255,255,.35) 60%, rgba(255,255,255,0) 70%);
      box-shadow: 0 0 14px rgba(255,255,255,.9), 0 0 40px rgba(106,255,140,.45);
    }
    .r1{ width:86%; aspect-ratio:1/1; animation: spin360 18s linear infinite; }
    .r2{ width:66%; aspect-ratio:1/1; animation: spin360 26s linear infinite reverse; border-color: rgba(255,255,255,.10) }
    .r2::before{ width:10px; height:10px; top:-5px; box-shadow: 0 0 10px rgba(255,255,255,.9), 0 0 30px rgba(111,240,255,.4) }
    .r3{ width:48%; aspect-ratio:1/1; animation: spin360 34s linear infinite; border-color: rgba(255,255,255,.08) }
    .r3::before{ width:9px; height:9px; top:-4px; box-shadow: 0 0 8px rgba(255,255,255,.9), 0 0 24px rgba(255,255,180,.35) }
    @keyframes spin360{ to{ transform:rotate(360deg) } }

    /* Центрированный ромб */
    .plumbob-center{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:48%; aspect-ratio:1/1; display:grid; place-items:center; z-index:1; }
    .plumbob{
      width:100%; aspect-ratio:1/1;
      animation: bob 2.8s ease-in-out infinite, spinY 12s linear infinite;
      filter: drop-shadow(0 14px 24px rgba(0,0,0,.35)) drop-shadow(0 0 20px rgba(106,255,140,.35));
      will-change: transform;
    }
    @keyframes bob{0%,100%{transform:translateY(-4%)}50%{transform:translateY(4%)}}
    @keyframes spinY{0%{transform:rotateY(0)}100%{transform:rotateY(360deg)}}

    /* Декоративная карточка (тоже loadscreen.jpg как заглушка) */
    .card-float{position:absolute; right:-24px; bottom:-18px; width:200px; border-radius:14px; overflow:hidden; box-shadow: var(--shadow-soft);
      border:1px solid rgba(255,255,255,.16); transform: rotate(3deg)}
    .card-float img{display:block; width:100%; height:auto}

    @media (max-width:860px){ .hero-grid{grid-template-columns:1fr} .card-float{display:none} }

    /* Разделы */
    section{position:relative; z-index:3; padding:64px 0}
    .section-title{font-size:28px; font-weight:800; margin:0 0 24px; text-align:center; text-shadow: 0 4px 18px rgba(0,0,0,.25)}

    .features{display:grid; grid-template-columns: repeat(4, 1fr); gap:16px}
    .feature{background:var(--glass); border:1px solid var(--glass-b); backdrop-filter: blur(10px); border-radius:var(--radius); padding:18px; box-shadow: var(--shadow-soft)}
    .feature h3{margin:8px 0 6px; font-size:18px}
    .feature p{margin:0; color:var(--muted); font-size:14px}
    .feature svg{width:28px; height:auto; filter: drop-shadow(0 0 8px rgba(255,255,255,.3))}
    @media (max-width:960px){ .features{grid-template-columns: repeat(2, 1fr)} }
    @media (max-width:560px){ .features{grid-template-columns: 1fr} }

    .gallery-grid{display:grid; grid-template-columns: repeat(3, 1fr); gap:14px}
    .shot{position:relative; border-radius:14px; overflow:hidden; border:1px solid rgba(255,255,255,.16); background:rgba(0,0,0,.12);
      transform: translateZ(0); cursor:pointer}
    .shot img{width:100%; height:220px; object-fit:cover; display:block; transition: transform .6s ease}
    .shot:hover img{transform: scale(1.06)}
    .shot::after{content:"Увеличить"; position:absolute; bottom:10px; right:12px; font-size:12px; padding:4px 8px; border-radius:999px;
      background:rgba(0,0,0,.4)}
    @media (max-width:960px){ .gallery-grid{grid-template-columns: repeat(2, 1fr)} .shot img{height:200px} }
    @media (max-width:560px){ .gallery-grid{grid-template-columns: 1fr} .shot img{height:220px} }

    .cta{
      display:grid; grid-template-columns: 1.2fr .8fr; gap:18px; align-items:center;
      background:var(--glass); border:1px solid var(--glass-b); backdrop-filter: blur(10px);
      border-radius:var(--radius); padding:20px; box-shadow: var(--shadow-soft)
    }
    .cta h3{margin:0 0 8px; font-size:22px}
    .cta p{margin:0 0 12px; color:var(--muted)}
    .input{display:flex; gap:8px; background:rgba(0,0,0,.18); border:1px solid rgba(255,255,255,.18); padding:8px; border-radius:12px}
    .input code{font-weight:700}
    .cta-visual{display:grid; place-items:center}
    .badge{padding:6px 10px; border-radius:10px; background:rgba(0,0,0,.18); font-size:12px; width:max-content}
    @media (max-width:900px){ .cta{grid-template-columns:1fr} }

    details{background:var(--glass); border:1px solid var(--glass-b); backdrop-filter: blur(10px); border-radius:12px; padding:14px 16px}
    summary{cursor:pointer; font-weight:700}
    details p{color:var(--muted)}
    details + details{margin-top:10px}

    footer{padding:32px 0 48px; text-align:center; color:var(--muted)}

    @media (prefers-reduced-motion: reduce){
      .plumbob{animation:none}
      .orbit{animation:none}
      .shot img{transition:none}
    }
  </style>
</head>
<body>
  <!-- ФОН -->
  <div id="bg-photo" aria-hidden="true"></div>
  <div id="bg-halo" aria-hidden="true">
    <svg viewBox="0 0 800 800" role="img" aria-label="Halo rings">
      <defs>
        <filter id="blur20"><feGaussianBlur stdDeviation="20"/></filter>
        <filter id="blur30"><feGaussianBlur stdDeviation="30"/></filter>
        <filter id="blur40"><feGaussianBlur stdDeviation="40"/></filter>
      </defs>
      <circle class="c1" cx="400" cy="280" r="250" fill="none"/>
      <circle class="c2" cx="400" cy="280" r="330" fill="none"/>
      <circle class="c3" cx="400" cy="280" r="410" fill="none"/>
    </svg>
  </div>
  <canvas id="sparkles" aria-hidden="true"></canvas>

  <!-- НАВИГАЦИЯ -->
  <nav class="nav">
    <div class="bar container">
      <a href="#" class="brand">
        <img class="brand-logo-img" src="logo.png" alt="gSims"/>
        <span>g<span class="g">S</span>ims</span>
      </a>
      <div class="nav-actions">
        <button class="burger" id="burger" aria-label="Меню">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <path d="M4 6h16M4 12h16M4 18h16" stroke="white" stroke-width="1.6" stroke-linecap="round"/>
          </svg>
        </button>
        <div class="nav-links" id="navLinks">
          <a href="#features">Преимущества</a>
          <a href="#gallery">Скриншоты</a>
          <a href="#join">Как подключиться</a>
          <a href="#faq">FAQ</a>
          <a href="https://discord.gg/yourinvite" target="_blank" rel="noopener" class="btn">Discord</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="hero">
    <div class="container hero-grid">
      <div>
        <h1>Жизнь, бизнес и интерьер — <br/> так, как вы любите</h1>
        <p>gSims — сервер Garry’s Mod с упором на строительство, экономику и атмосферные роли. Создавайте дома, запускайте дело, общайтесь и развивайтесь в живом городе.</p>
        <div class="actions">
          <a class="btn" id="connectBtn" href="steam://connect/127.0.0.1:27015">Играть сейчас</a>
          <a class="btn secondary" href="#gallery">Смотреть скриншоты</a>
        </div>
        <div style="margin-top:18px; display:flex; gap:10px; flex-wrap:wrap">
          <span class="pill">Ежемесячные обновления</span>
          <span class="pill">Дружелюбное сообщество</span>
          <span class="pill">Анти-гринд</span>
        </div>
      </div>

      <div class="hero-visual" aria-hidden="true">
        <div class="plumbob-wrap">
          <!-- Орбиты -->
          <div class="orbits">
            <div class="orbit r1"></div>
            <div class="orbit r2"></div>
            <div class="orbit r3"></div>
          </div>

          <!-- Центрированный ромб -->
          <div class="plumbob-center">
            <svg class="plumbob" viewBox="0 0 100 140">
              <polygon points="50,0 90,60 50,120 10,60" fill="url(#p-grad)"/>
              <polygon points="50,10 80,60 50,110 20,60" fill="url(#p-grad2)" opacity=".65"/>
              <polygon points="10,60 35,60 50,120" fill="rgba(255,255,255,.25)" opacity=".22"/>
              <defs>
                <linearGradient id="p-grad" x1="0" y1="0" x2="0" y2="1">
                  <stop offset="0%"  stop-color="var(--green-1)"/>
                  <stop offset="100%" stop-color="var(--green-2)"/>
                </linearGradient>
                <linearGradient id="p-grad2" x1="0" y1="0" x2="0" y2="1">
                  <stop offset="0%"  stop-color="rgba(255,255,255,.85)"/>
                  <stop offset="100%" stop-color="rgba(255,255,255,0)"/>
                </linearGradient>
              </defs>
            </svg>
          </div>

          <!-- Декоративная карточка: заглушка loadscreen.jpg -->
          <div class="card-float">
            <img src="loadscreen.jpg" alt="Скриншот gSims" loading="lazy"/>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- ПРЕИМУЩЕСТВА -->
  <section id="features">
    <div class="container">
      <h2 class="section-title">Почему <span class="pill">gSims</span>?</h2>
      <div class="features">
        <div class="feature">
          <svg viewBox="0 0 24 24" fill="none"><path d="M4 20h16M6 20V7l6-4 6 4v13" stroke="white" stroke-width="1.4"/></svg>
          <h3>Дизайн интерьера</h3>
          <p>Точный грид, повороты, сохранение наборов мебели, быстрый режим Дизайнера.</p>
        </div>
        <div class="feature">
          <svg viewBox="0 0 24 24" fill="none"><path d="M4 12h16M8 7h8M7 16h10" stroke="white" stroke-width="1.4"/></svg>
          <h3>Экономика и бизнес</h3>
          <p>Создавайте бренд, расширяйте ассортимент, рекламируйтесь и поднимайте популярность.</p>
        </div>
        <div class="feature">
          <svg viewBox="0 0 24 24" fill="none"><circle cx="9" cy="8" r="3" stroke="white" stroke-width="1.4"/><path d="M2 22c1-4 4-6 7-6s6 2 7 6" stroke="white" stroke-width="1.4"/><path d="M16 11h4M18 9v4" stroke="white" stroke-width="1.4"/></svg>
          <h3>Дружелюбное сообщество</h3>
          <p>Модерация без токсичности и упор на ролевую самобытность.</p>
        </div>
        <div class="feature">
          <svg viewBox="0 0 24 24" fill="none"><path d="M12 3v18M3 12h18" stroke="white" stroke-width="1.4"/></svg>
          <h3>Контент-обновления</h3>
          <p>Ежемесячные паки мебели, одежда, события и активности.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- СКРИНШОТЫ -->
  <section id="gallery">
    <div class="container">
      <h2 class="section-title">Скриншоты</h2>
    <div class="gallery-grid">
      <!-- все плейсхолдеры указывают на loadscreen.jpg рядом с index.html -->
      <figure class="shot"><img src="loadscreen.jpg" alt="Скриншот gSims 1"/></figure>
      <figure class="shot"><img src="loadscreen.jpg" alt="Скриншот gSims 2"/></figure>
      <figure class="shot"><img src="loadscreen.jpg" alt="Скриншот gSims 3"/></figure>
      <figure class="shot"><img src="loadscreen.jpg" alt="Скриншот gSims 4"/></figure>
      <figure class="shot"><img src="loadscreen.jpg" alt="Скриншот gSims 5"/></figure>
      <figure class="shot"><img src="loadscreen.jpg" alt="Скриншот gSims 6"/></figure>
    </div>
    </div>
  </section>

  <!-- ПОДКЛЮЧЕНИЕ -->
  <section id="join">
    <div class="container">
      <div class="cta">
        <div>
          <span class="pill">Присоединяйтесь</span>
          <h3>Вперёд в город gSims</h3>
          <p>Нажмите «Играть», чтобы подключиться через Steam, или скопируйте IP и зайдите вручную.</p>
          <div class="input">
            <code id="ip">your.server.ip:27015</code>
            <button class="btn secondary" id="copyIp">Копировать IP</button>
            <a class="btn" id="joinSteam" href="steam://connect/your.server.ip:27015">Играть</a>
          </div>
          <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap">
            <a class="btn secondary" href="https://discord.gg/yourinvite" target="_blank" rel="noopener">Discord</a>
            <a class="btn secondary" href="#" target="_blank" rel="noopener">Коллекция Workshop</a>
          </div>
        </div>
        <div class="cta-visual" aria-hidden="true">
          <svg viewBox="0 0 100 140" style="width:min(220px,38vw)">
            <polygon points="50,0 90,60 50,120 10,60" fill="url(#p-grad)"/>
            <polygon points="50,10 80,60 50,110 20,60" fill="url(#p-grad2)" opacity=".65"/>
          </svg>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq">
    <div class="container">
      <h2 class="section-title">FAQ</h2>
      <details>
        <summary>Какие правила у вас на сервере?</summary>
        <p>У нас действует короткий свод RP-правил: уважайте игроков, играйте честно, не злоупупотребляйте механиками. Полные правила — в Discord.</p>
      </details>
      <details>
        <summary>Нужны ли моды?</summary>
        <p>Все зависимости подтянутся автоматически при подключении. Коллекция Workshop доступна отдельно по ссылке выше.</p>
      </details>
      <details>
        <summary>Есть ли вайпы прогресса?</summary>
        <p>Редко и только по большим причинам (например, смена глобальных систем). Мы заранее предупреждаем.</p>
      </details>
    </div>
  </section>

  <footer>
    <div class="container">
      <p style="margin:10px 0 0">© gSims. Неофициальный фан-проект по мотивам The Sims™.</p>
    </div>
  </footer>

  <!-- Лайтбокс -->
  <dialog id="lightbox" style="padding:0; border:none; background:transparent">
    <div style="position:fixed; inset:0; background:rgba(0,0,0,.6); display:grid; place-items:center">
      <img id="lightImg" src="" alt="" style="max-width:92vw; max-height:86vh; border-radius:12px; box-shadow: var(--shadow-heavy); border:1px solid rgba(255,255,255,.2)"/>
    </div>
  </dialog>

  <script>
    // ===== Навигация (бургер) =====
    const burger = document.getElementById('burger');
    const navLinks = document.getElementById('navLinks');
    burger?.addEventListener('click', ()=> navLinks.classList.toggle('show'));
    navLinks?.querySelectorAll('a[href^="#"]').forEach(a=>a.addEventListener('click', ()=>navLinks.classList.remove('show')));

    // ===== Искорки =====
    const canvas = document.getElementById('sparkles');
    const ctx = canvas.getContext('2d');
    let W=0,H=0, stars=[], rafId=null;
    const reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    function resize(){
      W = canvas.width  = window.innerWidth;
      H = canvas.height = window.innerHeight;
      const count = reduceMotion ? 0 : Math.min(150, Math.floor(W*H/18000));
      stars = Array.from({length: count}, ()=>({
        x: Math.random()*W, y: Math.random()*H, r: Math.random()*1.6+.4, a: Math.random()*Math.PI*2, s: Math.random()*.6+.2, tw: Math.random()*.02+.008
      }));
    }
    function tick(){
      ctx.clearRect(0,0,W,H);
      for (const st of stars){
        st.a += st.tw;
        const alpha = .35 + Math.sin(st.a)*.25;
        ctx.globalAlpha = alpha;
        ctx.beginPath(); ctx.arc(st.x, st.y, st.r, 0, Math.PI*2); ctx.fillStyle = '#ffffff'; ctx.fill();
        st.y -= st.s * .35; st.x += Math.sin(st.a*1.6)*.12;
        if (st.y < -5){ st.y = H+5; st.x = Math.random()*W; }
      }
      rafId = requestAnimationFrame(tick);
    }
    window.addEventListener('resize', resize); resize(); if(!reduceMotion) tick();

    // ===== Лайтбокс =====
    const lb = document.getElementById('lightbox');
    const lightImg = document.getElementById('lightImg');
    document.querySelectorAll('.shot img').forEach(img=>{
      img.addEventListener('click', ()=>{
        lightImg.src = img.src; lightImg.alt = img.alt || '';
        lb.showModal();
      });
    });
    lb.addEventListener('click', e=>{ if(e.target === lb) lb.close(); });

    // ===== Копирование IP =====
    const ipEl = document.getElementById('ip');
    const copyBtn = document.getElementById('copyIp');
    copyBtn?.addEventListener('click', async ()=>{
      try{
        await navigator.clipboard.writeText(ipEl.textContent.trim());
        copyBtn.textContent = 'Скопировано!';
        setTimeout(()=> copyBtn.textContent = 'Копировать IP', 1600);
      }catch(e){ alert('Скопируйте вручную: ' + ipEl.textContent.trim()); }
    });

    // ===== Плавный скролл =====
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', e=>{
        const id = a.getAttribute('href').slice(1);
        const el = document.getElementById(id);
        if(el){ e.preventDefault(); el.scrollIntoView({behavior:'smooth', block:'start'}); }
      });
    });

    // ===== Обновление reduced motion на лету =====
    if (window.matchMedia) {
      const mq = window.matchMedia('(prefers-reduced-motion: reduce)');
      mq.addEventListener?.('change', e=>{
        if (e.matches && rafId){ cancelAnimationFrame(rafId); rafId=null; stars=[]; ctx.clearRect(0,0,W,H); }
        if (!e.matches && !rafId){ resize(); tick(); }
      });
    }
  </script>
</body>
</html>
